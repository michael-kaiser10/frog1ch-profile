*{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#0c1117;
  --bg-2:#111926;
  --panel:#151f2d;
  --panel-2:#101825;
  --ink:#eaf2f9;
  --muted:#9bb0c6;
  --accent:#ff7a40;
  --accent-2:#36c5b7;
  --accent-3:#7a89ff;
  --border:rgba(255,255,255,.08);
  --shadow:0 28px 70px rgba(4,8,12,.6);
  --glow:0 0 26px rgba(255,122,64,.3);
  --radius:24px;
  --font-head:'Unbounded','Segoe UI',sans-serif;
  --font-body:'Rubik','Segoe UI',sans-serif;
}

body{
  min-height:100vh;
  background:radial-gradient(1000px 650px at 8% -10%, rgba(122,137,255,.24), transparent 60%),
             radial-gradient(900px 600px at 95% 8%, rgba(54,197,183,.22), transparent 60%),
             linear-gradient(160deg,var(--bg),var(--bg-2));
  color:var(--ink);
  font-family:var(--font-body);
  padding:24px;
}

.bg-pulse{
  position:fixed;
  inset:-25% -25% auto -25%;
  height:130vh;
  background:
    radial-gradient(650px 450px at 15% 18%, rgba(255,122,64,.22), transparent 60%),
    radial-gradient(700px 520px at 84% 10%, rgba(54,197,183,.2), transparent 60%),
    radial-gradient(700px 520px at 50% 90%, rgba(122,137,255,.2), transparent 60%);
  filter:blur(12px);
  pointer-events:none;
  z-index:-1;
}

.app{max-width:1240px;margin:0 auto;display:grid;gap:24px}

.topbar{display:flex;align-items:center;justify-content:space-between;gap:16px}
.brand{display:flex;align-items:center;gap:10px;font-family:var(--font-head);font-weight:700}
.brand-gem{width:12px;height:12px;border-radius:3px;transform:rotate(45deg);background:var(--accent);box-shadow:0 0 12px rgba(255,122,64,.7)}
.brand-text{letter-spacing:.2px}

.nav{display:flex;gap:16px;flex-wrap:wrap}
.nav a{color:var(--muted);text-decoration:none;font-weight:600;font-size:12px;text-transform:uppercase;letter-spacing:.12em}
.nav a:hover{color:var(--ink)}

.top-actions{display:flex;gap:10px;align-items:center}

.hero{
  display:grid;
  grid-template-columns:1.1fr .9fr;
  gap:20px;
}

.hero-left{
  background:linear-gradient(160deg,rgba(21,31,45,.98),rgba(15,24,36,.98));
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:28px;
  box-shadow:var(--shadow);
  display:grid;
  gap:16px;
}

.hero-badge{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:6px 12px;
  border-radius:999px;
  background:rgba(255,122,64,.14);
  color:#ffd2bd;
  font-weight:700;
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:.16em;
  width:fit-content;
}

.hero h1{font-family:var(--font-head);font-size:32px;line-height:1.15}
.hero p{color:var(--muted);font-size:15px;max-width:560px}

.hero-actions{display:flex;gap:10px;flex-wrap:wrap}

.hero-metrics{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
.metric{
  background:rgba(10,16,24,.7);
  border:1px solid var(--border);
  border-radius:16px;
  padding:12px;
  display:grid;
  gap:4px;
}
.metric .label{color:var(--muted);font-size:11px;text-transform:uppercase;letter-spacing:.12em}
.metric .value{font-weight:700;font-family:var(--font-head)}

.hero-right{display:grid;gap:16px}
.hero-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:14px}
.hero-card{
  background:linear-gradient(150deg,rgba(20,30,44,.98),rgba(14,22,33,.98));
  border:1px solid var(--border);
  border-radius:20px;
  padding:16px;
  box-shadow:var(--shadow);
  display:grid;
  gap:10px;
}
.hero-card.highlight{border:1px solid rgba(255,122,64,.4)}
.hero-card h3{font-family:var(--font-head);font-size:16px}
.hero-card p{color:var(--muted);font-size:12px}
.accent{color:var(--accent-2);font-size:12px;font-weight:700}

.chip-row{display:flex;gap:8px;flex-wrap:wrap}
.chip{padding:6px 10px;border-radius:999px;font-size:11px;font-weight:700;background:rgba(122,137,255,.16);color:#dfe4ff}

.layout{
  display:grid;
  grid-template-columns:repeat(12,minmax(0,1fr));
  grid-template-areas:
    "arena arena arena arena ranking ranking ranking account account account account account"
    "lounge lounge lounge lounge lounge lounge ranking ranking ranking account account account"
    "feedback feedback feedback feedback feedback feedback feedback feedback feedback feedback feedback feedback";
  gap:20px;
  align-items:start;
}

.arena{grid-area:arena}
.ranking{grid-area:ranking}
.account{grid-area:account}
.lounge{grid-area:lounge}
.feedback{grid-area:feedback}

.tile{
  background:linear-gradient(150deg,rgba(21,31,45,.98),rgba(15,24,36,.98));
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:20px;
  box-shadow:var(--shadow);
  display:grid;
  gap:12px;
}

.tile-head{display:flex;align-items:center;justify-content:space-between;gap:12px}
.tile-head h2{font-family:var(--font-head);font-size:18px}
.tag{padding:6px 10px;border-radius:999px;background:rgba(54,197,183,.18);color:#bff3ed;font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.08em}
.tile-sub{color:var(--muted);font-size:13px}

.game-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:10px}

.btn{
  padding:10px 16px;
  border-radius:14px;
  border:1px solid transparent;
  font-weight:700;
  font-family:var(--font-head);
  cursor:pointer;
  transition:all .2s ease;
  text-decoration:none;
  display:inline-flex;
  align-items:center;
  justify-content:center;
}
.btn-primary{background:linear-gradient(135deg,var(--accent),#ff9b6a);color:#21110a}
.btn-ghost{background:rgba(255,255,255,.06);color:var(--ink);border:1px solid var(--border)}
.btn-game{background:linear-gradient(135deg,#49d5c3,#3a7bd5);color:#071518}
.btn-disabled{background:#2a3745;color:#8ea2b4;border:1px solid var(--border);cursor:not-allowed}
.btn-soft{background:rgba(122,137,255,.2);color:#e6eaff;border:1px solid rgba(122,137,255,.35)}
.btn:hover{transform:translateY(-2px);box-shadow:var(--glow)}

.auth-grid{display:grid;gap:8px}
#auth-status{color:var(--muted);font-size:13px}
#auth-msg{min-height:16px}

input[type="text"],input[type="password"],input[type="email"],input[type="color"],input[type="range"]{font-family:var(--font-body)}
input[type="text"],input[type="password"],input[type="email"]{
  width:100%;
  padding:10px 12px;
  border-radius:12px;
  border:1px solid var(--border);
  background:rgba(8,14,20,.6);
  color:var(--ink);
  outline:none;
  transition:border .2s;
}
input[type="text"]:focus,input[type="password"]:focus,input[type="email"]:focus{border-color:var(--accent)}

.btn-row{display:flex;gap:8px;flex-wrap:wrap}

.leaderboard .board-section{border:1px solid var(--border);border-radius:14px;padding:12px;margin-bottom:10px;background:rgba(12,18,26,.65)}
.board-section strong{display:block;font-family:var(--font-head);font-size:13px;color:var(--accent-3);margin-bottom:6px}
.board-section ol{margin-left:18px;color:var(--ink);font-size:12px}
.board-section li{margin:3px 0}
.board-section p{color:var(--muted);font-size:12px}

.chat-list{
  height:360px;
  overflow:auto;
  border:1px solid var(--border);
  border-radius:16px;
  padding:12px;
  background:rgba(12,18,26,.65);
  display:flex;
  flex-direction:column;
  gap:10px;
}
.chat-item{display:grid;gap:6px;padding:10px 12px;border-radius:12px;background:rgba(20,30,40,.9);border:1px solid rgba(255,255,255,.06)}
.chat-meta{font-size:11px;color:var(--muted)}
.chat-text{font-size:13px;color:var(--ink)}
.chat-input{display:flex;gap:8px;align-items:center}
.chat-attach{display:inline-flex;align-items:center;gap:6px;padding:9px 12px;border-radius:12px;border:1px solid var(--border);background:rgba(255,255,255,.06);font-size:12px;font-weight:700;color:var(--ink);cursor:pointer}
.chat-attach input{display:none}
.chat-item img{max-width:100%;border-radius:12px;border:1px solid var(--border)}

.chat-preview{display:flex;gap:12px;align-items:center;padding:10px;border:1px dashed var(--border);border-radius:12px;background:rgba(255,255,255,.04)}
.chat-preview img{width:120px;height:80px;object-fit:cover;border-radius:10px;border:1px solid var(--border)}

.hidden{display:none!important}

.game-modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(6,10,15,.6);backdrop-filter:blur(10px);padding:18px;z-index:9999}
.game-container{width:min(1100px,96vw);max-height:92vh;overflow:auto;background:linear-gradient(160deg,#121c26,#0f1822);border:1px solid var(--border);border-radius:26px;box-shadow:var(--shadow);padding:18px;display:grid;gap:14px}
.game-header{display:flex;align-items:center;justify-content:space-between}
.game-panel{background:linear-gradient(140deg,rgba(18,28,38,.98),rgba(12,20,28,.98));border:1px solid var(--border);border-radius:18px;padding:16px}
.game-panel h3{font-family:var(--font-head);font-size:18px;margin-bottom:10px}

.calc-toolbar{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.calc-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}
.calc-btn{background:#0f1a24;color:var(--ink);border:1px solid var(--border);border-radius:12px;padding:12px;font-weight:700;cursor:pointer;transition:all .15s ease;font-family:var(--font-head)}
.calc-btn:hover{transform:translateY(-2px);box-shadow:var(--glow)}
#calc-display{width:100%;padding:12px;border-radius:12px;border:1px solid var(--border);background:#0b141d;color:var(--accent);font-size:18px;text-align:right;margin-bottom:10px;font-family:var(--font-head)}

.paint-layout{display:grid;grid-template-columns:140px 1fr;gap:12px;align-items:stretch}
.paint-tools{display:grid;gap:8px;align-content:start}
.tool-btn{background:#0f1a24;color:var(--ink);border:1px solid var(--border);border-radius:12px;padding:10px 12px;font-weight:700;cursor:pointer;transition:all .15s ease;font-family:var(--font-head)}
.tool-btn.active{background:linear-gradient(135deg,var(--accent),#ff9b6a);color:#21110a;box-shadow:var(--glow)}
.tool-btn.alt{background:#2a3947;color:#d4e0ed}
.paint-canvas-wrap{display:grid;gap:10px}
#paint-canvas{width:100%;height:360px;background:#ffffff;border-radius:14px;border:1px solid var(--border);box-shadow:0 14px 30px rgba(5,8,12,.35)}
.paint-controls{display:flex;gap:14px;flex-wrap:wrap;align-items:center;justify-content:space-between}
.paint-controls label{display:flex;align-items:center;gap:8px;color:var(--muted);font-size:12px}
.paint-controls input[type="range"]{width:140px}

.chess-top{display:grid;grid-template-columns:1.4fr 1fr;gap:16px}
.chess-controls{display:grid;gap:10px;align-content:start}
.field{display:grid;gap:6px}
.field span{font-size:12px;color:var(--muted)}
.field select{padding:10px 12px;border-radius:12px;border:1px solid var(--border);background:#0f1822;color:var(--ink)}
.chess-status{display:flex;gap:12px;align-items:center;font-weight:700}
.chess-online{display:grid;gap:10px}
.chess-list{border:1px solid var(--border);border-radius:14px;padding:10px;background:rgba(12,18,26,.65);min-height:110px}
.chess-list h4{font-family:var(--font-head);font-size:13px;margin-bottom:6px}
.online-item,.invite-item{display:flex;align-items:center;justify-content:space-between;padding:6px 8px;border-radius:10px;background:rgba(20,30,40,.9);margin-bottom:6px}
.online-item button,.invite-item button{padding:6px 10px;font-size:12px}

.chess-board{display:grid;grid-template-columns:repeat(8,1fr);border:1px solid var(--border);border-radius:16px;overflow:hidden;background:#0b141d;width:100%;max-width:520px;aspect-ratio:1/1;margin-top:6px}
.chess-square{display:flex;align-items:center;justify-content:center;font-size:clamp(18px, 3vw, 30px);user-select:none}
.chess-square.light{background:#e9eff5;color:#0b1117}
.chess-square.dark{background:#9aa8b6;color:#0b1117}
.chess-square.selected{outline:3px solid var(--accent);outline-offset:-3px}
.chess-square.legal{box-shadow:inset 0 0 0 3px rgba(255,122,64,.6)}

@media (max-width:1080px){
  .hero{grid-template-columns:1fr}
  .layout{
    grid-template-columns:1fr;
    grid-template-areas:
      "arena"
      "ranking"
      "account"
      "lounge"
      "feedback";
  }
  .hero-grid{grid-template-columns:1fr}
  .chess-top{grid-template-columns:1fr}
}
@media (max-width:720px){
  .topbar{flex-direction:column;align-items:flex-start}
  .hero-metrics{grid-template-columns:1fr}
  .paint-layout{grid-template-columns:1fr}
  #paint-canvas{height:260px}
  .chat-input{flex-direction:column;align-items:stretch}
}
